<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="description" content="responsive clothing store template">
    <meta name="author" content="afriq yasin ramadhan">
    <link rel="shortcut icon" href="img/favicon.png">

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">


    <title>Clotheshop</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- begin:navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#clotheshop-navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <div class="collapse navbar-collapse" id="clotheshop-navbar">
                <ul class="nav navbar-nav navbar-right">
                    <li><a class="disabled">CURRENCY</a></li>
                    <li class="active"><a href="#">USD</a></li>
                    <li><a href="#">EUR</a></li>
                    <li><a href="#">IDR</a></li>
                    <li class="divider-vertical"></li>
                    <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">LANGUAGE <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">EN</a></li>
                            <li><a href="#">ID</a></li>
                            <li><a href="#">FR</a></li>
                            <li class="divider"></li>
                            <li><a href="#">IT</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>
    <!-- end:navbar -->

    <!-- begin:content -->
    <div class="container">
        <!-- begin:logo -->
        <div class="row">
            <div class="col-md-6 col-sm-6 col-xs-6">
                <div class="logo">
                    <img src="img/logos/Proud-O-My-Colours_TEXTONLY-02-02_small.png" class="img-responsive" alt="Proud Of My Colors">
                </div>
            </div>
            <div class="col-md-6 col-sm-6 col-xs-6" id="admin">
            </div>
        </div>
        <!-- end:logo -->

        <!-- begin:nav-menus -->
        <div class="row">
            <div class="col-md-12">
                <div class="nav-menus">
                    <ul class="nav nav-pills" id="menu_items">
                    </ul>
                </div>
            </div>
        </div>
        <!-- end:nav-menus -->

        <!-- begin:article -->
        <div class="row">
            <!-- begin:sidebar -->
            <div class="col-md-3 col-sm-4 sidebar">
                <div class="row">
                    <div class="col-md-12">
                        <div class="widget" id="shoppingCartWidget">
                            <!-- <div class="widget-title">
                                <h3>Cart</h3>
                            </div>
                            <ul class="cart list-unstyled">
                                <li>
                                    <div class="row">
                                        <div class="col-sm-7 col-xs-7">1 <a href="#">Canada Disc Flag T-shirt</a> <span>[ 26 ]</span></div>
                                        <div class="col-sm-5 col-xs-5 text-right"><strong>$54.00</strong> <a href="#"><i class="fa fa-trash-o"></i></a></div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row">
                                        <div class="col-sm-7 col-xs-7">1 <a href="#">Jamaica H-track T-shirt</a> <span>[ M ]</span></div>
                                        <div class="col-sm-5 col-sm-5 text-right"><strong>$26.00</strong> <a href="#"><i class="fa fa-trash-o"></i></a></div>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-unstyled total-price">
                                <li>
                                    <div class="row">
                                        <div class="col-sm-8 col-xs-8">Shipping</div>
                                        <div class="col-sm-4 col-xs-4 text-right">$1.00</div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row">
                                        <div class="col-sm-8 col-xs-8">Total</div>
                                        <div class="col-sm-4 col-xs-4 text-right">$71.00</div>
                                    </div>
                                </li>
                                <li>
                                    <div class="row">
                                        <div class="col-sm-6 col-xs-6">
                                            <a class="btn btn-default" href="cart.html">Cart</a>
                                        </div>
                                        <div class="col-sm-6 col-xs-6 text-right">
                                            <a class="btn btn-primary" href="login.html">Checkout</a>
                                        </div>
                                    </div>
                                </li>
                            </ul> -->
                        </div>
                        <!-- break -->
                        <div class="widget">
                            <div class="widget-title">
                                <h3>Payment Confirmation</h3>
                            </div>
                            <p>Already make a payment ? please confirm your payment by filling <a href="confirm.html">this form</a></p>
                        </div>

                    </div>
                </div>
            </div>
            <!-- end:sidebar -->

            <!-- begin:content -->
            <div class="col-md-9 col-sm-8 content">

                <div class="row">
                    <div class="col-md-12" id="productList">
                    </div>
                </div>
            </div>
            <!-- end:content -->
        </div>
        <!-- end:article -->

        <!-- begin:footer -->
        <div class="row footer">
            <div class="col-md-12 copyright">
                <div class="row">
                    <div class="col-md-6 col-sm-6 copyright-left">
                        <p>Copyright &copy; Proud Of My Colors 2016. All right reserved.</p>
                    </div>
                    <div class="col-md-6 col-sm-6 copyright-right">
                        <ul class="list-unstyled list-social">
                            <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="https://www.facebook.com/proudofmycolors"><i class="fa fa-facebook-square"></i></a></li>

                            <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- end:copyright -->

    </div>
    <!-- end:content -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/masonry.pkgd.min.js"></script>
    <script src="/js/imagesloaded.pkgd.min.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/accounting.js"></script>
    <!--aws-->
    <script src="/js/aws/jsbn.js"></script>
    <script src="/js/aws/jsbn2.js"></script>
    <script src="/js/aws/sjcl.js"></script>
    <script src="/js/aws/moment.min.js"></script>
    <script src="/js/aws/aws-cognito-sdk.min.js"></script>
    <script src="/js/aws/amazon-cognito-identity.min.js"></script>
    <script src="/js/aws/aws-sdk-2.3.19.min.js"></script>
    <!--Iron Rock Custom Library-->
    <script src="/js/proudofmycolorsservice.js"></script>
    <script src="/js/index.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            var country;
            var gender;
            initPage(function(err, obj) {
                country = getQueryStringParams("country");
                gender = getQueryStringParams("gender");
                listProducts(obj);
            });

            function listProducts(obj) {
                obj = obj ? obj : g_proudOfMyColorsService; //
                obj.listProducts(function(err, items) {
                    if (err) {
                        display(err.message, err);
                        return;
                    }

                    var productList = $('#productList');
                    var header = $('<h3/>');
                    if (country) {
                        switch (country.toLowerCase()) {
                            case "jm":
                                header.text("Jamaica Selection");
                                break;
                            case "us":
                                header.text("United States Selection");
                                break;
                            default:
                                header.text(country.toUpperCase() + " Selection");
                                break;
                        }
                    }
                    if (gender) {
                        switch (gender.toLowerCase()) {
                            case "male":
                                header.text("Male Selection");
                                break;
                            default:
                                header.text("Female Selection");
                                break;
                        }
                    }

                    productList.append(header);
                    productList.append('<hr/>');

                    var filteredItems = [];
                    for (var i = 0; i < items.length; i++) {
                        if ((gender && items[i].gender == gender && country && items[i].country == country) ||
                            (gender && items[i].gender == gender && !country) ||
                            (!gender && country && items[i].country == country)) {
                            filteredItems.push(items[i]);
                        }
                    }

                    for (var i = 0; i < filteredItems.length; i = i + 3) {
                        var rowContainer = $('<div/>').addClass("row product-container");
                        InsertCell(rowContainer, filteredItems[i]);
                        if (i + 1 < filteredItems.length) InsertCell(rowContainer, filteredItems[i + 1]);
                        if (i + 2 < filteredItems.length) InsertCell(rowContainer, filteredItems[i + 2]);
                        productList.append(rowContainer);
                    }

                });
            }

            function diplayItem(element, item) {
                element.data("product_id", item.id);
                element.find(".item_name").text(item.productName);
                element.find(".item_thumb").attr("src", item.smallImageName);
                element.find(".item_price").text(accounting.formatMoney(item.price));
            }


            function InsertCell(placementElement, item) {
                var cellDiv = $('<div/>').addClass("col-md-4 col-sm-4 col-xs-6");
                var productItem = $('<div/>').addClass("thumbnail product-item").data("product_id", item.id);
                var img = $("<img/>").addClass("item_thumb").attr("src", item.smallImageName);
                img.appendTo(productItem);
                var productName = $('<span/>').addClass("item_name").text(item.productName);
                productName.appendTo(productItem);
                var productPrice = $('<span/>').addClass("item_price").text(accounting.formatMoney(item.price));
                productPrice.appendTo(productItem);
                var productBtn = $('<button/>').addClass("btn btn-default productBtn").attr("aria-label", "Left Align");
                productBtn.append('<span class="glyphicon glyphicon-log-in" aria-hidden="true"></span>');
                productBtn.appendTo(productItem);
                productItem.appendTo(cellDiv);
                placementElement.append(cellDiv);
            }


            $('#productList').on('click', '.productBtn', function() {
                var productItem = $(this).closest(".product-item");
                location.assign("/product_detail.html?id=" + productItem.data('product_id'));
                //alert(productItem.data('product_id'));
            });




        });
    </script>

</body>

</html>
