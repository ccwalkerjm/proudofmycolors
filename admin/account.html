<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="description" content="range of shopping including tee shirts and other items">
    <meta name="author" content="courserv">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>ProudOfMyColors</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
    <!--Favicon  -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <!--Favicon  -->

</head>

<body>

    <!-- begin:navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#clotheshop-navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <div class="collapse navbar-collapse" id="clotheshop-navbar">
                <ul class="nav navbar-nav navbar-right" id="menu_items">
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>
    <!-- end:navbar -->

    <!-- begin:content -->
    <div class="container">
        <!-- begin:logo -->
        <div class="row">
            <div class="col-md-6 col-sm-6 col-xs-6">
                <div class="logo">
                    <img src="/img/logos/Proud-O-My-Colours_TEXTONLY-02-02.png" class="img-responsive" alt="Proud Of My Colors">
                </div>
            </div>
            <div class="col-md-6 col-sm-6 col-xs-6">
                <div class="account">
                    <ul>
                        <li id="your-account">
                        </li>
                        <li id="cart-status">
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- end:logo -->

        <!-- begin:nav-menus -->
        <div class="row">
            <div class="col-md-12">
                <div class="nav-menus">
                </div>
            </div>
        </div>
        <!-- end:nav-menus -->

        <!-- begin:article -->
        <div class="row">
            <!-- begin:sidebar -->
            <div class="col-md-3 col-sm-4 sidebar">
                <div class="row">
                    <div class="col-md-12">
                        <div class="widget" id="shoppingCartWidget">
                        </div>
                        <!-- break -->
                        <div class="widget" id="shoppingCartCheckout">
                        </div>
                    </div>
                </div>
            </div>
            <!-- end:sidebar -->

            <!-- begin:content -->
            <div class="col-md-9 col-sm-8 content">
                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <h3>Create An Account</h3>
                        <div class="message"></div>
                        <hr />
                        <form role="form">
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" value="" class="form-control" placeholder="Username" id="username">
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" class="form-control" placeholder="Email" id="email">
                            </div>
                            <div class="form-group">
                                <label for="phone_number">Phone Number</label>
                                <input type="text" value="" class="form-control" placeholder="phone_number" id="phone_number">
                            </div>
                            <div class="form-group">
                                <label for="given_name">First Name</label>
                                <input type="text" value="" class="form-control" placeholder="First Name" id="given_name">
                            </div>
                            <div class="form-group">
                                <label for="family_name">Last Name</label>
                                <input type="text" value="" class="form-control" placeholder="lastName" id="family_name">
                            </div>
                            <div class="form-group">
                                <label for="password">Create your password</label>
                                <input type="password" value="" class="form-control" placeholder="Password" id="password">
                            </div>
                            <button type="button" class="btn btn-default" id="register">Register</button>
                        </form>
                    </div>
                    <div class="col-md-6 col-sm-6">
                        <h3>Already Registered ?</h3>
                        <hr />
                        <form role="form">
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" class="form-control" placeholder="Username" id="login_username">
                            </div>
                            <div class="form-group">
                                <label for="password">Password Address</label>
                                <input type="password" class="form-control" placeholder="Password" id="login_password">
                            </div>
                            <a href="#">Forgot your password ?</a>
                            <br>
                            <br>
                            <button type="button" class="btn btn-primary" id="login">Log in</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- end:article -->

        <!-- begin:footer -->
        <div class="row footer">
            <div class="col-md-12 copyright">
                <div class="row">
                    <div class="col-md-6 col-sm-6 copyright-left">
                        <p>Copyright &copy; Proud Of My Colors 2016. All right reserved.</p>
                    </div>
                    <div class="col-md-6 col-sm-6 copyright-right">
                        <ul class="list-unstyled list-social">
                            <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="https://www.facebook.com/proudofmycolors"><i class="fa fa-facebook-square"></i></a></li>

                            <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- end:copyright -->

    </div>
    <!-- end:content -->
    <div class="loadingModal">
        <!-- Place at bottom of page -->
    </div>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/masonry.pkgd.min.js"></script>
    <script src="/js/imagesloaded.pkgd.min.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/bootbox.js"></script>
    <script src="/js/accounting.js"></script>
    <!--aws-->
    <script src="/js/aws/jsbn.js"></script>
    <script src="/js/aws/jsbn2.js"></script>
    <script src="/js/aws/sjcl.js"></script>
    <script src="/js/aws/moment.min.js"></script>
    <script src="/js/aws/aws-cognito-sdk.min.js"></script>
    <script src="/js/aws/amazon-cognito-identity.min.js"></script>
    <script src="/js/aws/aws-sdk.min.js"></script>
    <!--Iron Rock Custom Library-->
    <script src="/js/courserv_web_services.js"></script>
    <script src="/js/index.js"></script>

    <script type="text/javascript">
        const _ENCODED_MESSAGE =
            'PHAgaWQ9Im1lc3NhZ2UtY2FwdGlvbiI+WW91ciBwZXJzb25hbCBJbmZvcm1hdGlvbiBpcyB1c2VkIHN0cmljdGx5IHRvIHBlcnNvbmFsaXplIGFuZCBpbXByb3ZlIG91ciBzZXJ2aWNlcyB0byB5b3UuPC9wPgo8Zm9ybSBjbGFzcz0iZm9ybS1ob3Jpem9udGFsIj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iY29udHJvbC1sYWJlbCBjb2wtc20tNCIgZm9yPSJnaXZlbl9uYW1lIj5GaXJzdCBOYW1lOjwvbGFiZWw+CiAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTgiPgogICAgICAgICAgICA8c3BhbiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0iZ2l2ZW5fbmFtZSI+PC9zcGFuPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWwgY2xhc3M9ImNvbnRyb2wtbGFiZWwgY29sLXNtLTQiIGZvcj0iZmFtaWx5X25hbWUiPkxhc3QgTmFtZTo8L2xhYmVsPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS04Ij4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9ImZhbWlseV9uYW1lIj48L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iY29udHJvbC1sYWJlbCBjb2wtc20tNCIgZm9yPSJlbWFpbCI+RW1hbGwgQWRkcmVzczo8L2xhYmVsPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS04Ij4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9ImVtYWlsIj48L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iY29udHJvbC1sYWJlbCBjb2wtc20tNCIgZm9yPSJwaG9uZV9udW1iZXIiPlBob25lIE51bWJlcjo8L2xhYmVsPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS04Ij4KICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9InBob25lX251bWJlciIgcGxhY2Vob2xkZXI9IkVudGVyIFBob25lIE51bWJlciI+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iY29udHJvbC1sYWJlbCBjb2wtc20tNCIgZm9yPSJnZW5kZXIiPkdlbmRlcjo8L2xhYmVsPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS04Ij4KICAgICAgICAgICAgPHNlbGVjdCB0eXBlPSJudW1iZXIiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJnZW5kZXIiPgogICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im1hbGUiPk1hbGU8L29wdGlvbj4KICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJmZW1hbGUiPkZlbWFsZTwvb3B0aW9uPgogICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsIGNsYXNzPSJjb250cm9sLWxhYmVsIGNvbC1zbS00IiBmb3I9ImJpcnRoZGF0ZSI+RGF0ZSBvZiBCaXJ0aDo8L2xhYmVsPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS04Ij4KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJiaXJ0aGRhdGUiIHBsYWNlaG9sZGVyPSJFbnRlciBEYXRlIG9mIEJpcnRoIj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsIGNsYXNzPSJjb250cm9sLWxhYmVsIGNvbC1zbS00IiBmb3I9InBhc3N3b3JkIj5QYXNzd29yZDo8L2xhYmVsPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS04Ij4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0icGFzc3dvcmQiIHBsYWNlaG9sZGVyPSJFbnRlciBwYXNzd29yZCI+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iY29udHJvbC1sYWJlbCBjb2wtc20tNCIgZm9yPSJjb25maXJtUGFzc3dvcmQiPkNvbmZpcm0gUGFzc3dvcmQ6PC9sYWJlbD4KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tOCI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9ImNvbmZpcm1QYXNzd29yZCIgcGxhY2Vob2xkZXI9IkNvbmZpcm0gcGFzc3dvcmQiPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CjwvZm9ybT4K';
        $(document).ready(function() {
            initPage(function(err, obj) {

            });
            ///login


            $("#register").click(function(e) {
                var userData = {};
                userData.email = $("#email").val();
                userData.phone_number = $("#phone_number").val();
                userData.given_name = $("#given_name").val();
                userData.family_name = $("#family_name").val();
                userData.username = $("#username").val();
                userData.password = $("#password").val();
                setLoadingState(true);
                g_courserv_web_service.signup(userData, function(err, result) {
                    setLoadingState(false);
                    if (err) {
                        display(err.message, true);
                        return;
                    }
                    bootbox.prompt("The user has been created. Enter the code sent to the email address", function(verificationCode) {
                        if (verificationCode === null) {
                            bootbox.alert("Enter the correct code!");
                            return false;
                        } else {
                            g_courserv_web_service.confirmSignup(userData.username, verificationCode, function(err, r) {
                                if (err) {
                                    display(err.message, true);
                                    return;
                                }
                                location.assign("/index.html");
                            });
                        }
                    });

                });
            });



            $("#login").click(function(e) {
                setLoadingState(true);
                var username = $("#login_username").val();
                var password = $("#login_password").val();

                g_courserv_web_service.signoff();
                g_courserv_web_service.signin(username, password, function(err, checkNewUser, $this, userAttributes, requiredAttributes) {
                    setLoadingState(false);
                    if (err) {
                        display(err.message, true);
                    } else {
                        if (!checkNewUser) location.href = "/index.html";
                        else {
                            var $message = $('<div/>').html(window.atob(_ENCODED_MESSAGE));
                            $message.find('#message-caption').html(
                                'Your personal Information is used strictly to personalize and improve our services to you. Kindly peruse our <a href="#">Privacy Policy</a> and <a href="#">Terms of Use</a>');
                            $message.find('#given_name').html(userAttributes.given_name);
                            $message.find('#family_name').html(userAttributes.family_name);
                            $message.find('#email').html(userAttributes.email);

                            bootbox.dialog({
                                title: "Complete your Personal Information",
                                message: $message.html(),
                                buttons: {
                                    success: {
                                        label: "Confirm",
                                        className: "btn-success",
                                        callback: function() {
                                            var newPassword = $('#password', '.bootbox').val();
                                            var confirmPassword = $('#confirmPassword', '.bootbox').val();
                                            var gender = $('#gender', '.bootbox').val();
                                            var birthdate = $('#birthdate', '.bootbox').val();
                                            var phone_number = $('#phone_number', '.bootbox').val();
                                            if (!newPassword || newPassword != confirmPassword) {
                                                alert('Passwords Not Matched');
                                                return false;
                                            }
                                            var user = {};
                                            user.gender = gender;
                                            user.birthdate = birthdate;
                                            user.phone_number = '+' + parseInt(phone_number).toString();
                                            g_courserv_web_service.completeChallenge(newPassword, user, $this);
                                        }
                                    }
                                }
                            });
                        }
                    }
                });
            });






        });
    </script>
</body>

</html>
